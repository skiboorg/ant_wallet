(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[719],{75008:(e,t,a)=>{"use strict";a.d(t,{C:()=>o,d:()=>n});var l=a(13433),s=a(17779);const n=({seed:e,password:t})=>{const a={status:!0,seed:e},s=l.createCipher("aes192",t);return s.update(JSON.stringify(a),"utf8","hex")+s.final("hex")},o=({hash:e,password:t})=>{try{const a=l.createDecipher("aes192",t),s=a.update(e,"hex","utf8")+a.final("utf8"),n=JSON.parse(s);return!!n.status&&n.seed}catch(a){return s.log(a),!1}}},96928:(e,t,a)=>{"use strict";a.d(t,{t:()=>c});a(72879);var l=a(81809),s=a(60499),n=a(23459),o=a(46190),i=a(28339);const c=(0,l.Q_)("auth",(()=>{const e=(0,n.Q)(),t=(0,o.c)(),a=(0,i.tv)();let l=(0,s.iH)(null),c=(0,s.iH)(!1);async function u(a,s){e.setSeed(a),c.value=!0,l.value=s;const n=localStorage.getItem("hash");return n||localStorage.setItem("hash",s),await e.getAssets(),await t.firstAddress(),await t.getBalances(),await t.getDocs(),e.startCheckUnconfirmTx(),Promise.resolve("Success")}async function d(){return localStorage.removeItem("hash"),localStorage.removeItem("seed"),t.clearInfo(),e.stopCheckUnconfirmTx(),await a.push("/"),await a.go(),Promise.resolve("Success")}return{hash:l,seedStatus:c,login:u,logout:d}}))},28719:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ne});var l=a(59835),s=a(53761),n=a.n(s);const o=(0,l._)("img",{class:"gt-sm logo absolute-top-left",src:n()},null,-1),i={class:"row q-col-gutter-md items-center full-width"},c=(0,l._)("div",{class:"gt-sm col-12 offset-0 offset-md-1 col-md-4 offset-lg-2"},[(0,l._)("p",{class:"text-white text-h2 text-bold"},[(0,l.Uk)("Открой мир "),(0,l._)("span",{class:"text-primary block"},"криптовалюты"),(0,l.Uk)(" вместе с нами")])],-1),u={class:"col-12 col-md-5 offset-md-1 col-lg-4 offset-lg-0"},d={key:1},r=(0,l._)("div",{class:"card-title with-separator text-body1 q-mb-md"},[(0,l._)("span",{class:""},"Нет кошелька?")],-1);function g(e,t,a,s,n,g){const p=(0,l.up)("Login"),v=(0,l.up)("btn"),m=(0,l.up)("Register"),w=(0,l.up)("q-card-section"),h=(0,l.up)("q-card"),_=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(_,{class:"auth-bg flex flex-center relative-position",padding:""},{default:(0,l.w5)((()=>[o,(0,l._)("div",i,[c,(0,l._)("div",u,[(0,l.Wm)(h,{class:"ellipse-shadow"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[s.loginActive?((0,l.wg)(),(0,l.j4)(p,{key:0,onSeedGood:s.setSeed},null,8,["onSeedGood"])):(0,l.kq)("",!0),s.is_seed_good||!s.loginActive||s.hash?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",d,[r,(0,l.Wm)(v,{label:"Создать новый кошелек",unelevated:"","no-caps":"",class:"bg-gold full-width q-py-md",onClick:t[0]||(t[0]=e=>s.loginActive=!1)})])),s.loginActive?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(m,{key:2,onOpenLogin:s.openLogin},null,8,["onOpenLogin"]))])),_:1})])),_:1})])])])),_:1})}a(72879);var p=a(60499),v=a(87270),m=a(75008),w=a(28339),h=a(96928),_=a(43463),f=a(44974);const b=(0,l._)("div",{class:"card-title with-separator text-h4 q-mb-md"},[(0,l._)("span",{class:""},"Вход")],-1),y={key:0},k={key:0,class:"flex column justify-between"},x={class:""},q={key:1,class:"pincode-tab"},S={__name:"Login",emits:["seedGood"],setup(e,{emit:t}){const a=(0,w.tv)(),s=(0,h.t)(),n=(0,_.s)(),o=(0,f.T)(),i=(0,p.iH)(""),c=(0,p.iH)(""),u=t,d=localStorage.getItem("hash");async function r(e){const t=(0,m.C)({hash:d,password:e});t?(i.value=t,await g()):(0,v.d$)("negative","Введен не корректный сид")}async function g(){n.toggleLoadingState();const e=(0,m.d)({seed:i.value,password:c.value});await s.login(i.value,e);const t=localStorage.getItem("addresses");await o.connectWS(JSON.parse(t)[0].address),n.toggleLoadingState(),await a.push({name:"wallet_index"})}async function S(e){c.value=e,await g()}async function C(){await s.logout()}function H(e){const t=/^[A-Za-z0-9]+$/;return!!t.test(e)&&(u("seedGood",{val:[43,44,86,87,88].includes(e.length)}),[43,44,86,87,88].includes(e.length))}return(e,t)=>{const a=(0,l.up)("q-input"),s=(0,l.up)("pin-code"),n=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[b,(0,p.SU)(d)?((0,l.wg)(),(0,l.iD)("div",q,[(0,l.Wm)(s,{showDigits:!1,onPincode_ready:r}),(0,l.Wm)(n,{padding:"sm","no-caps":"",outline:"",flat:"",class:"full-width q-mt-md text-bold",onClick:C,size:"14px",dense:"",color:"negative",label:"Я забыл пароль"})])):((0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)(a,{standout:"",dark:"","label-color":"dark",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),label:"Введите Ваш сид",rules:[e=>e&&e.length>0||"Это обязательное поле",e=>H(e)||"Введен не корректный сид"]},null,8,["modelValue","rules"]),H(i.value)?((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",x,[(0,l.Wm)(s,{showDigits:!0,onPincode_ready:S})])])):(0,l.kq)("",!0)]))],64)}}};var C=a(13119),H=a(24455),D=a(69984),L=a.n(D);const W=S,I=W;L()(S,"components",{QInput:C.Z,QBtn:H.Z});var Q=a(86970),$=a(99407),A=a(76647);const T={class:"card-title with-separator text-h4 q-mb-md"},U={class:""},V={key:0,class:""},Z={class:"text-weight-bold text-center text-negative"},z=["innerHTML"],O={class:"text-center"},P={class:"text-golder text-bold",target:"_blank",href:"https://wallet.rupay.pro/rupay_user_agreement.pdf"},j={key:1,class:""},N={class:"text-center q-mt-md"},G={key:2,class:""},J={class:"text-gold"},B={style:{"word-break":"break-all"},class:"text-caption bg-grey-3 q-pa-md"},E={class:"bg-grey-4 q-pa-md text-weight-medium"},M={__name:"Register",emits:["openLogin"],setup(e,{emit:t}){const a=(0,A.QT)(),s=(0,h.t)(),n=(0,w.tv)(),o=(0,f.T)(),i=(0,p.iH)(1),c=(0,p.iH)(""),u=(0,p.iH)(null),d=(0,p.iH)(!1),r=(0,p.iH)(!1);let g=(0,p.iH)(null);const _=(0,p.iH)([{agree:!1,text:a.t("reg_agree1")},{agree:!1,text:a.t("reg_agree2")},{agree:!1,text:a.t("reg_agree3")}]),b=(0,l.Fl)((()=>_.value[0].agree&&_.value[1].agree&&_.value[2].agree)),y=t;function k(){y("openLogin")}async function x(e){c.value=e,await q()}async function q(){d.value=!d.value,g.value=await $.EraChain.Crypt.generateSeed(),d.value=!d.value,i.value=3}async function S(){d.value=!d.value,u.value&&localStorage.setItem("ref_code",u.value);const e=(0,m.d)({seed:g.value,password:c.value});await s.login(g.value,e);const t=localStorage.getItem("addresses");await o.connectWS(JSON.parse(t)[0].address),await n.push({name:"wallet_index"}),d.value=!d.value}async function C(){await(0,v.QO)(g.value,"positive",a.t("seed_copy_done")),r.value=!0}return(e,t)=>{const a=(0,l.up)("q-checkbox"),s=(0,l.up)("btn"),n=(0,l.up)("pin-code"),o=(0,l.up)("q-btn"),c=(0,l.up)("q-input");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",T,[(0,l._)("span",U,(0,Q.zw)(e.$t("reg_title")),1)]),1===i.value?((0,l.wg)(),(0,l.iD)("div",V,[(0,l._)("p",Z,(0,Q.zw)(e.$t("reg_agree")),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.value,((e,t)=>((0,l.wg)(),(0,l.j4)(a,{modelValue:_.value[t].agree,"onUpdate:modelValue":e=>_.value[t].agree=e,class:"text-caption q-mb-md",style:{"line-height":"110%"}},{default:(0,l.w5)((()=>[(0,l._)("p",{class:"no-margin text-gold",innerHTML:e.text},null,8,z)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),256)),(0,l._)("p",O,[(0,l._)("a",P,(0,Q.zw)(e.$t("user_agreement")),1)]),b.value?((0,l.wg)(),(0,l.j4)(s,{key:0,unelevated:"","no-caps":"",label:e.$t("seed_copy_next"),class:"bg-gold q-py-md full-width",onClick:t[0]||(t[0]=e=>i.value=2),type:"submit",outline:!1},null,8,["label"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),2===i.value?((0,l.wg)(),(0,l.iD)("div",j,[(0,l.Wm)(n,{showDigits:!0,onPincode_ready:x}),(0,l._)("div",N,[(0,l.Wm)(o,{"no-caps":"",flat:"","text-color":"dark",class:"text-caption no-margin",label:e.$t("have_seed"),onClick:k},null,8,["label"])])])):(0,l.kq)("",!0),3===i.value?((0,l.wg)(),(0,l.iD)("div",G,[(0,l._)("p",J,(0,Q.zw)(e.$t("your_seed")),1),(0,l._)("p",B,(0,Q.zw)((0,p.SU)(g)),1),(0,l.Wm)(s,{onClick:C,"no-caps":"",label:e.$t("seed_copy_btn"),unelevated:"",class:"bg-gold q-py-md full-width q-mb-md"},null,8,["label"]),(0,l._)("p",E,(0,Q.zw)(e.$t("seed_copy")),1),(0,l.Wm)(c,{standout:"",dark:"",class:"q-mb-md","label-color":"dark",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),label:"Реферальный код пригласителя"},null,8,["modelValue"]),(0,l.Wm)(s,{unelevated:"","no-caps":"",label:r.value?e.$t("seed_copy_next"):e.$t("seed_copy_need_copy"),disabled:!r.value,is_loading:d.value,onClick:S,class:"bg-gold q-py-md full-width",type:"submit",outline:!1},null,8,["label","disabled","is_loading"])])):(0,l.kq)("",!0)],64)}}};var R=a(91006);const Y=M,F=Y;L()(M,"components",{QCheckbox:R.Z,QBtn:H.Z,QInput:C.Z});var K=a(3168);const X={name:"IndexPage",components:{Register:F,Login:I},preFetch({redirect:e,router:t}){localStorage.getItem("seed")},setup(){const e=(0,p.iH)(!0),t=(0,p.iH)(!1),a=localStorage.getItem("hash"),l=K.env.WALLET_NAME;function s(e){t.value=e.val}function n(a){t.value=!1,e.value=!0}return{loginActive:e,is_seed_good:t,hash:a,wallet_name:l,setSeed:s,openLogin:n}}};var ee=a(11639),te=a(69885),ae=a(44458),le=a(63190);const se=(0,ee.Z)(X,[["render",g]]),ne=se;L()(X,"components",{QPage:te.Z,QCard:ae.Z,QCardSection:le.Z})},53761:(e,t,a)=>{e.exports=a.p+"img/logo.faaf1e8a.svg"}}]);