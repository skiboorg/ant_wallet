"use strict";(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[591],{45591:(e,l,a)=>{a.r(l),a.d(l,{default:()=>kl});a(72879);var t=a(59835),s=a(86970),u=a(60499),n=a(82134),o=a(91569),i=a(28339),r=a(23459),p=a(98030),d=a(31655),_=a(87270),v=a(76647),w=a(29610),c=a(17779);const f={class:"container"},m={class:"title"},g={class:"text-bold"},b={class:"text-bold"},y={key:0,class:"text-bold text-center text-primary"},k={key:1},x={key:2},z={key:0},h={key:0,class:"q-mb-md"},$=["innerHTML"],U={key:1},q={key:0},D={key:1},W={class:"text-bold"},Z={class:"text-bold"},C={class:"text-bold"},j=(0,t._)("br",null,null,-1),H={class:"text-bold text-negative text-uppercase"},Q=(0,t._)("br",null,null,-1),S={class:"text-bold"},V=(0,t._)("br",null,null,-1),T=(0,t._)("br",null,null,-1),A={class:"text-bold"},F=(0,t._)("br",null,null,-1),I={class:"text-bold"},B=(0,t._)("br",null,null,-1),P={key:2},K=(0,t._)("br",null,null,-1),R=(0,t._)("br",null,null,-1),J={key:3},L=(0,t._)("br",null,null,-1),M=(0,t._)("br",null,null,-1),N={key:0},O={key:0},E={key:1},G={key:0},X={class:"text-bold"},Y={class:"text-bold"},ee={key:1},le={class:"text-bold text-negative text-center text-justify"},ae={key:2},te={key:0},se={class:"text-bold"},ue=(0,t._)("br",null,null,-1),ne=(0,t._)("br",null,null,-1),oe={class:"text-caption text-bold text-negative text-justify"},ie={key:3},re={key:0},pe=["href"],de={key:4},_e={key:1},ve={class:"text-negative text-center items-center"},we={key:0},ce={key:1},fe={class:"text-bold"},me={class:"text-bold"},ge={class:"text-bold"},be=(0,t._)("br",null,null,-1),ye={class:"text-bold text-negative text-uppercase"},ke=(0,t._)("br",null,null,-1),xe={class:"text-bold"},ze=(0,t._)("br",null,null,-1),he=(0,t._)("br",null,null,-1),$e={class:"text-bold"},Ue=(0,t._)("br",null,null,-1),qe={class:"text-bold"},De=(0,t._)("br",null,null,-1),We={key:2},Ze=(0,t._)("br",null,null,-1),Ce=(0,t._)("br",null,null,-1),je={key:3},He=(0,t._)("br",null,null,-1),Qe=(0,t._)("br",null,null,-1),Se={key:2},Ve=(0,t._)("p",{class:"text-bold text-center text-positive"},"Админ часть",-1),Te=(0,t._)("br",null,null,-1),Ae=(0,t._)("br",null,null,-1),Fe=(0,t._)("br",null,null,-1),Ie=(0,t._)("br",null,null,-1),Be=(0,t._)("br",null,null,-1),Pe=(0,t._)("br",null,null,-1),Ke=(0,t._)("br",null,null,-1),Re=(0,t._)("br",null,null,-1),Je=(0,t._)("br",null,null,-1),Le=(0,t._)("br",null,null,-1),Me={key:0},Ne=["href"],Oe=(0,t._)("br",null,null,-1),Ee=(0,t._)("br",null,null,-1),Ge={key:3},Xe={class:"full-height"},Ye=(0,t._)("br",null,null,-1),el={key:0},ll=["href"],al={class:"flex items-center"},tl="7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",sl={__name:"Trade",setup(e){const l=new Audio("notify.mp3"),sl=(0,i.yj)(),ul=(0,i.tv)(),{EraChain:nl}=a(99407),ol=(0,r.Q)(),il=(0,d.T)(),rl=(0,u.iH)(null),pl=(0,u.iH)(null),dl=(0,u.iH)(null),_l=(0,u.iH)(null),vl=(0,u.iH)(null),wl=(0,u.iH)(null),cl=(0,u.iH)(null),fl=(0,u.iH)(null),ml=(0,u.iH)(!1);let gl=(0,u.iH)(!1);const bl=(0,u.iH)([]),yl=((0,u.iH)(0),(0,u.iH)(3e5)),kl=.001,xl=(0,v.QT)(),zl=(xl.t("p2p_error"),(0,t.Fl)((()=>il.user))),hl=(0,t.Fl)((()=>il.trade)),$l=(0,t.Fl)((()=>hl.value.offer.is_sell?hl.value.offer.user.wallet===zl.value.wallet:hl.value.opponent.wallet===zl.value.wallet));function Ul(){fl.value=setInterval((async function(){await il.get_trade()}),5e3)}async function ql(e){let l=zl.value.wallet;"money_receive"===e&&(l=zl.value.is_p2p_admin?hl.value.freeze_user===hl.value.opponent.wallet?hl.value.offer.user.wallet:hl.value.opponent.wallet:hl.value.offer.user.wallet!==zl.value.wallet?hl.value.offer.user.wallet:hl.value.opponent.wallet),c.log(vl.value),ml.value=!ml.value;let a=new FormData;a.set("action",e),vl.value&&a.set("file",vl.value),a.set("wallet",l),a.set("uid",hl.value.UID),c.log(a);const t=await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/trade_action",data:a});t.data.success?(0,_.d$)("positive",t.data.message):(0,_.d$)("negative",t.data.message),ml.value=!ml.value,"delete"===e&&ul.push({name:"p2p_index"}),"money_receive"===e&&ul.push({name:"p2p_index"})}async function Dl(){rl.value=new WebSocket(`wss://antex.pro/ws/trade_chat/${hl.value.UID}`);const e=await o.h.get(`/api/p2p/get_trade_chat?trade_uid=${hl.value.UID}`);c.log(e.data),bl.value=e.data.messages,rl.value.onmessage=async e=>{let a=JSON.parse(e.data)["message"];c.log("DATA",a.user.wallet);let t={id:a.id,message:a.message,file:a.file?a.file:null,createdAt:a.createdAt,user:{wallet:a.user.wallet,is_p2p_admin:a.user.is_p2p_admin,fio:a.user.fio}};bl.value.push(t),Zl(),l.play()}}async function Wl(e){13===e.keyCode&&_l.value&&await jl()}function Zl(){gl.value&&(cl.value.setScrollPosition("vertical",yl.value,300),yl.value=20*Math.floor(300))}function Cl(){Zl()}async function jl(){ml.value=!ml.value;let e=new FormData;e.set("message",JSON.stringify(_l.value)),e.set("file",wl.value),e.set("wallet",zl.value.wallet),e.set("trade_uid",hl.value.UID),c.log(e);await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/add_message_in_trade_chat",data:e});_l.value=null,wl.value=null,ml.value=!ml.value}async function Hl(){ml.value=!ml.value;const e=!0,l=await ol.getKeyPair(),a=new nl.Type.KeyPair(l),t={assetKey:hl.value.offer.asset.key,amount:hl.value.asset_amount};c.log(a),c.log(t);const s=await p.era.tranRawSendAsset(a,t,tl,xl.t("p2p_depon"),`${xl.t("p2p_trade")} ${hl.value.id} ${xl.t("p2p_by_offer")} ${hl.value.offer.id}`,!1,e);c.log(s),s.error?(0,_.d$)("negative",s.error.message):(pl.value=s.fee,dl.value=s.raw,await Ql()),ml.value=!ml.value}async function Ql(){const e=await p.era.broadcast64(dl.value);if(c.log(e),e.error)(0,_.d$)("negative",e.message);else{(0,_.d$)("positive",xl.t("p2p_depon1"));await o.h.post("/api/p2p/trade_action",{action:"freeze_money",uid:hl.value.UID,tx:e.signature,wallet:zl.value.wallet})}}return(0,t.wF)((async()=>{il.current_trade_uid=sl.params.uid,await il.get_user(),c.log("wallet",zl.value),await il.get_trade(),await Dl(),hl.value.status.is_need_help&&(gl.value=!0),Ul()})),(0,t.Jd)((async()=>{rl.value?rl.value.close():c.log("not connect"),clearInterval(fl.value)})),(e,l)=>{const a=(0,t.up)("q-btn"),o=(0,t.up)("q-card-section"),i=(0,t.up)("q-card"),r=(0,t.up)("q-badge"),p=(0,t.up)("q-separator"),d=(0,t.up)("q-icon"),_=(0,t.up)("q-file"),v=(0,t.up)("q-chat-message"),c=(0,t.up)("q-scroll-area"),tl=(0,t.up)("q-input"),sl=(0,t.up)("q-dialog"),ul=(0,t.up)("q-page"),nl=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ul,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t._)("p",m,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade"))+" ",1),(0,t._)("span",g,"#"+(0,s.zw)(hl.value.id),1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_by_offer"))+" ",1),(0,t._)("span",b,"#"+(0,s.zw)(hl.value.offer.id),1)]),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[!hl.value.can_delete&&hl.value.status.is_default?((0,t.wg)(),(0,t.iD)("p",y,(0,s.zw)(e.$t("p2p_trade_can_decline"))+" "+(0,s.zw)(new Date(hl.value.can_delete_time).toLocaleString()),1)):(0,t.kq)("",!0),hl.value.status.is_default&&hl.value.can_delete?((0,t.wg)(),(0,t.iD)("div",k,[(0,t.Wm)(a,{class:"full-width q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:l[0]||(l[0]=e=>ql("delete")),label:e.$t("p2p_trade_decline")},null,8,["label"])])):(0,t.kq)("",!0),(0,t.Wm)(i,{flat:"",class:(0,s.C_)(["text-bold text-center q-mb-md text-white",`bg-${hl.value.status.color}`])},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,s.zw)(e.$t("p2p_trade_status"))+": "+(0,s.zw)(hl.value.status.label)+" ",1)])),_:1})])),_:1},8,["class"]),hl.value.status.is_declined?((0,t.wg)(),(0,t.iD)("div",Ge,[(0,t.Wm)(w.Z,{tx:hl.value.tx_return,text:`Транзакция возврата ${hl.value.asset_amount} ${hl.value.offer.asset.name}`},null,8,["tx","text"])])):((0,t.wg)(),(0,t.iD)("div",x,[hl.value.status.is_need_help?((0,t.wg)(),(0,t.iD)("div",_e,[(0,t._)("p",ve,(0,s.zw)(e.$t("p2p_admin_wait")),1),(0,t._)("p",null,[hl.value.offer.is_sell?((0,t.wg)(),(0,t.iD)("span",we,(0,s.zw)(hl.value.opponent.wallet===zl.value.wallet?e.$t("p2p_buy_orders"):e.$t("p2p_sell_orders")),1)):((0,t.wg)(),(0,t.iD)("span",ce,(0,s.zw)(hl.value.opponent.wallet===zl.value.wallet?e.$t("p2p_sell_orders"):e.$t("p2p_buy_orders")),1)),(0,t._)("span",fe," "+(0,s.zw)(hl.value.asset_amount)+" "+(0,s.zw)(hl.value.offer.asset.name),1),(0,t.Uk)("  "+(0,s.zw)(e.$t("p2p_trade_course"))+" ",1),(0,t._)("span",me,(0,s.zw)(hl.value.offer.course)+" RUB",1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_total_rub"))+" ",1),(0,t._)("span",ge,(0,s.zw)(hl.value.fiat_amount)+" RUB",1),be,(0,t._)("span",ye,(0,s.zw)(e.$t("p2p_trade_comm"))+" "+(0,s.zw)(hl.value.asset_amount_without_commission)+" "+(0,s.zw)(hl.value.offer.asset.name),1),ke,(0,t._)("span",xe,(0,s.zw)(e.$t("p2p_rules"))+":",1),ze,(0,t.Uk)((0,s.zw)(hl.value.offer.rules),1),he,(0,t._)("span",$e,(0,s.zw)(e.$t("p2p_payment_system"))+":",1),(0,t.Uk)(" "+(0,s.zw)(hl.value.payment_type.label),1),Ue,(0,t._)("span",qe,(0,s.zw)($l.value?e.$t("p2p_trade_buyer"):e.$t("p2p_trade_seller")),1),De,hl.value.offer.user.wallet!==zl.value.wallet?((0,t.wg)(),(0,t.iD)("span",We,[(0,t.Wm)(n.Z,{address:hl.value.offer.user.wallet},null,8,["address"]),Ze,hl.value.offer.user.fio?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),Ce,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(hl.value.offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",je,[(0,t.Wm)(n.Z,{address:hl.value.opponent.wallet},null,8,["address"]),He,hl.value.opponent.fio?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),Qe,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(hl.value.opponent.total_trades),1)]))])])):((0,t.wg)(),(0,t.iD)("div",z,[hl.value.status.is_default||hl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(i,{flat:"",class:"bg-red-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t._)("p",{class:"text-white caption text-justify",innerHTML:e.$t("p2p_trade_call_admin_text")},null,8,$),(0,t.Wm)(a,{label:e.$t("p2p_trade_call_admin_btn"),loading:ml.value,onClick:l[1]||(l[1]=e=>ql("need_help")),class:"full-width","no-caps":"",unelevated:"",color:"yellow-4","text-color":"dark"},null,8,["label","loading"])])),_:1})])),_:1})])),hl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",U,[(0,t._)("p",null,[(0,t.Uk)("  "),hl.value.offer.is_sell?((0,t.wg)(),(0,t.iD)("span",q,(0,s.zw)(hl.value.opponent.wallet===zl.value.wallet?e.$t("p2p_buy_orders"):e.$t("p2p_sell_orders")),1)):((0,t.wg)(),(0,t.iD)("span",D,(0,s.zw)(hl.value.opponent.wallet===zl.value.wallet?e.$t("p2p_sell_orders"):e.$t("p2p_buy_orders")),1)),(0,t._)("span",W," "+(0,s.zw)(hl.value.asset_amount)+" "+(0,s.zw)(hl.value.offer.asset.name),1),(0,t.Uk)("  "+(0,s.zw)(e.$t("p2p_trade_course"))+" ",1),(0,t._)("span",Z,(0,s.zw)(hl.value.offer.course)+" RUB",1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_total_rub"))+" ",1),(0,t._)("span",C,(0,s.zw)(hl.value.fiat_amount)+" RUB",1),j,(0,t._)("span",H,(0,s.zw)(e.$t("p2p_trade_comm"))+" "+(0,s.zw)(hl.value.asset_amount_without_commission)+" "+(0,s.zw)(hl.value.offer.asset.name),1),Q,(0,t._)("span",S,(0,s.zw)(e.$t("p2p_rules"))+":",1),V,(0,t.Uk)((0,s.zw)(hl.value.offer.rules),1),T,(0,t._)("span",A,(0,s.zw)(e.$t("p2p_payment_system"))+":",1),(0,t.Uk)(" "+(0,s.zw)(hl.value.payment_type.label),1),F,(0,t._)("span",I,(0,s.zw)($l.value?e.$t("p2p_trade_buyer"):e.$t("p2p_trade_seller")),1),B,hl.value.offer.user.wallet!==zl.value.wallet?((0,t.wg)(),(0,t.iD)("span",P,[(0,t.Wm)(n.Z,{address:hl.value.offer.user.wallet},null,8,["address"]),(0,t.Uk)(),K,hl.value.offer.user.is_vip?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),R,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(hl.value.offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",J,[(0,t.Wm)(n.Z,{address:hl.value.opponent.wallet},null,8,["address"]),(0,t.Uk)(),L,hl.value.opponent.is_vip?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),M,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(hl.value.opponent.total_trades),1)]))]),(0,t.Wm)(p,{spaced:"lg"}),hl.value.status.is_default?((0,t.wg)(),(0,t.iD)("div",N,[hl.value.offer.user.wallet===zl.value.wallet?((0,t.wg)(),(0,t.iD)("div",O,[(0,t.Wm)(a,{loading:ml.value,label:e.$t("p2p_trade_agree"),color:"positive",class:"full-width q-py-md",onClick:l[2]||(l[2]=e=>ql("trade_accept")),unelevated:"","no-caps":""},null,8,["loading","label"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),hl.value.status.is_active?((0,t.wg)(),(0,t.iD)("div",E,[$l.value?((0,t.wg)(),(0,t.iD)("div",G,[(0,t._)("p",null,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade_agree_text1"))+" ",1),(0,t._)("span",X,(0,s.zw)(hl.value.asset_amount)+" "+(0,s.zw)(hl.value.offer.asset.name),1),(0,t.Uk)(". "+(0,s.zw)(e.$t("p2p_trade_agree_text2")),1)]),(0,t._)("p",Y,"Комиссия сети "+(0,s.zw)(100*(0,u.SU)(kl))+"% ("+(0,s.zw)(hl.value.asset_amount*(0,u.SU)(kl))+" "+(0,s.zw)(hl.value.offer.asset.name)+") + газ 0.00035644 ANT",1),(0,t.Wm)(a,{loading:ml.value,label:`${e.$t("p2p_trade_depo")} ${parseFloat(hl.value.asset_amount)+parseFloat(hl.value.asset_amount*(0,u.SU)(kl))} ${hl.value.offer.asset.name}`,color:"positive",class:"full-width q-py-md",onClick:Hl,unelevated:"","no-caps":""},null,8,["loading","label"])])):((0,t.wg)(),(0,t.iD)("div",ee,[(0,t._)("p",le,(0,s.zw)(e.$t("p2p_trade_depo_text")),1),(0,t._)("p",null,(0,s.zw)(e.$t("p2p_trade_depo_wait"))+" "+(0,s.zw)(hl.value.asset_amount)+" "+(0,s.zw)(hl.value.offer.asset.name),1)]))])):(0,t.kq)("",!0),hl.value.status.is_money_freeze?((0,t.wg)(),(0,t.iD)("div",ae,[(0,t.Wm)(w.Z,{tx:hl.value.tx,text:"Транзакция депонирования"},null,8,["tx"]),$l.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",te,[(0,t._)("p",se,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade_sellser_text")),1),ue,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_payment_system"))+": "+(0,s.zw)(hl.value.payment_type.label),1),ne,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_sellser_req"))+": "+(0,s.zw)(hl.value.payment_type.payment_info),1)]),(0,t._)("p",oe,(0,s.zw)(e.$t("p2p_trade_sellser_confirm")),1),(0,t.Wm)(_,{outlined:"",label:e.$t("p2p_trade_sellser_confirm_btn"),modelValue:vl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>vl.value=e),"bg-color":vl.value?"positive":"red-1",color:"white",class:"q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"attach_file"})])),_:1},8,["label","modelValue","bg-color"]),(0,t.Wm)(a,{loading:ml.value,disable:!vl.value,label:vl.value?e.$t("p2p_trade_sellser_confirm_btn_done"):e.$t("p2p_trade_sellser_confirm_btn_not"),color:vl.value?"positive":"negative",class:"full-width q-py-md",onClick:l[4]||(l[4]=e=>ql("money_send")),unelevated:"","no-caps":""},null,8,["loading","disable","label","color"])]))])):(0,t.kq)("",!0),hl.value.status.is_money_sent?((0,t.wg)(),(0,t.iD)("div",ie,[$l.value?((0,t.wg)(),(0,t.iD)("div",re,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:hl.value.send_img,target:"_blank"},(0,s.zw)(e.$t("p2p_trade_pay_confirm")),9,pe)]),(0,t.Wm)(a,{loading:ml.value,label:e.$t("p2p_trade_pay_confirm_btn"),color:"positive",class:"full-width q-py-md",onClick:l[5]||(l[5]=e=>ql("money_receive")),unelevated:"","no-caps":""},null,8,["loading","label"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),hl.value.status.is_money_recieve?((0,t.wg)(),(0,t.iD)("div",de,[(0,t.Wm)(w.Z,{tx:hl.value.tx_send,text:"Транзакция перевода"},null,8,["tx"])])):(0,t.kq)("",!0)]))])),zl.value.is_p2p_admin&&!hl.value.status.is_finished?((0,t.wg)(),(0,t.iD)("div",Se,[(0,t.Wm)(p,{spaced:"lg"}),Ve,(0,t._)("p",null,[(0,t.Uk)(" Cделка № "+(0,s.zw)(hl.value.id),1),Te,(0,t.Uk)(" Оффер № "+(0,s.zw)(hl.value.offer.id),1),Ae,(0,t.Uk)(" Сумма сделки в рублях: "+(0,s.zw)(hl.value.fiat_amount),1),Fe,(0,t.Uk)(" Сумма сделки в активе: "+(0,s.zw)(hl.value.asset_amount)+" "+(0,s.zw)(hl.value.offer.asset.name),1),Ie,Be,(0,t.Uk)(" Тип оффера: "+(0,s.zw)(hl.value.offer.is_sell?"продажа":"покупка"),1),Pe,Ke,(0,t.Uk)(" Создатель оффера: "),(0,t.Wm)(n.Z,{address:hl.value.offer.user.wallet},null,8,["address"]),Re,(0,t.Uk)(),Je,(0,t.Uk)(" Создатель сделки: "),(0,t.Wm)(n.Z,{address:hl.value.opponent.wallet},null,8,["address"]),Le]),(0,t.Wm)(w.Z,{tx:hl.value.tx,text:"Транзакция депонирования"},null,8,["tx"]),(0,t.Wm)(w.Z,{tx:hl.value.tx_send,text:"Транзакция перевода"},null,8,["tx"]),hl.value.send_img?((0,t.wg)(),(0,t.iD)("p",Me,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:hl.value.send_img,target:"_blank"},"Подтверждение оплаты",8,Ne)])):(0,t.kq)("",!0),Oe,Ee,hl.value.tx?((0,t.wg)(),(0,t.j4)(a,{key:1,loading:ml.value,label:"Отмена сделки с возвратом задепонированнго баланса продавцу",color:"negative",class:"full-width q-py-md q-mb-md",onClick:l[6]||(l[6]=e=>ql("admin_stop")),unelevated:"","no-caps":""},null,8,["loading"])):(0,t.kq)("",!0),hl.value.tx?((0,t.wg)(),(0,t.j4)(a,{key:2,loading:ml.value,label:"Завершить сделку с перечисление средств покупателю",color:"positive",class:"full-width q-py-md q-mb-md",onClick:l[7]||(l[7]=e=>ql("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])):(0,t.kq)("",!0),hl.value.tx?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:3,loading:ml.value,class:"full-width q-py-md","no-caps":"",unelevated:"",color:"negative",onClick:l[8]||(l[8]=e=>ql("admin_decline")),label:"Отменить сделку"},null,8,["loading"]))])):(0,t.kq)("",!0)])),(0,t.Wm)(sl,{modelValue:(0,u.SU)(gl),"onUpdate:modelValue":l[12]||(l[12]=e=>(0,u.dq)(gl)?gl.value=e:gl=e),seamless:"",position:"bottom",onShow:Cl},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"full-width"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{class:"q-pt-xl"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(a,{class:"absolute-top-right z-max",flat:"",round:"",icon:"close"},null,512),[[nl]]),(0,t._)("div",Xe,[(0,t.Wm)(c,{ref_key:"messages_wrapper",ref:cl,style:{height:"300px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(bl.value,(l=>((0,t.wg)(),(0,t.j4)(v,{key:l.id,stamp:new Date(l.createdAt).toLocaleString(),name:l.user.fio,text:[l.message],sent:l.user.wallet===zl.value.wallet,"bg-color":l.user.is_p2p_admin?"red-7":l.user.wallet===zl.value.wallet?"green-3":"grey-3","text-color":l.user.is_p2p_admin?"white":""},{name:(0,t.w5)((()=>[(0,t._)("span",{class:(0,s.C_)(l.user.is_p2p_admin?"text-red-7":"")},(0,s.zw)(l.user.fio?l.user.fio:l.user.wallet),3),Ye,l.file?((0,t.wg)(),(0,t.iD)("span",el,[(0,t._)("a",{class:"file_link",target:"_blank",href:l.file},(0,s.zw)(e.$t("p2p_attach")),9,ll)])):(0,t.kq)("",!0)])),_:2},1032,["stamp","name","text","sent","bg-color","text-color"])))),128))])),_:1},512),(0,t._)("div",al,[(0,t.Wm)(d,{size:"24px",class:"cursor-pointer q-mr-lg",color:wl.value?"positive":"grey-6",name:"attach_file"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{style:{position:"absolute",width:"42px",opacity:"0"},modelValue:wl.value,"onUpdate:modelValue":l[9]||(l[9]=e=>wl.value=e)},null,8,["modelValue"])])),_:1},8,["color"]),(0,t.Wm)(tl,{outlined:"","label-color":"dark",class:"col-grow",loading:ml.value,disable:ml.value,onKeydown:Wl,modelValue:_l.value,"onUpdate:modelValue":l[11]||(l[11]=e=>_l.value=e),label:e.$t("p2p_message")},{append:(0,t.w5)((()=>[(0,t.Wm)(a,{round:"",dense:"",disable:!_l.value,loading:ml.value,onClick:l[10]||(l[10]=e=>jl()),flat:"",icon:"send"},null,8,["disable","loading"])])),_:1},8,["loading","disable","modelValue","label"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),hl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:4,style:{position:"fixed",bottom:"20px",right:"20px"},flat:"",size:"24px",round:"","text-color":"white",icon:"chat",onClick:l[13]||(l[13]=e=>(0,u.dq)(gl)?gl.value=!0:gl=!0)},{default:(0,t.w5)((()=>[bl.value.length>0?((0,t.wg)(),(0,t.j4)(d,{key:0,class:"absolute-top-right",size:"16px",color:"red",name:"priority_high"})):(0,t.kq)("",!0)])),_:1}))])),_:1})])),_:1})])])),_:1})}}};var ul=a(69885),nl=a(44458),ol=a(63190),il=a(24455),rl=a(20990),pl=a(50926),dl=a(29420),_l=a(22857),vl=a(32074),wl=a(66663),cl=a(396),fl=a(13119),ml=a(62146),gl=a(69984),bl=a.n(gl);const yl=sl,kl=yl;bl()(sl,"components",{QPage:ul.Z,QCard:nl.Z,QCardSection:ol.Z,QBtn:il.Z,QBadge:rl.Z,QSeparator:pl.Z,QFile:dl.Z,QIcon:_l.Z,QDialog:vl.Z,QScrollArea:wl.Z,QChatMessage:cl.Z,QInput:fl.Z}),bl()(sl,"directives",{ClosePopup:ml.Z})}}]);