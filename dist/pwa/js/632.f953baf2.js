"use strict";(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[632],{64632:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});a(72879);var t=a(59835),u=a(60499),o=a(86970),s=a(46190),n=a(31655),p=a(91569),d=a(87270),m=a(28339),i=(a(24409),a(23459));const c={class:"container"},r=(0,t._)("p",{class:"title"},"Оффер на продажу",-1),v=["src"],_={key:0},b={key:1},w={key:1},k={class:"text-caption"},y={key:0,class:"text-caption text-negative"},f={key:2},q={__name:"NewSellOffer",setup(e){const l=(0,s.c)(),a=(0,u.iH)(null),q=(0,m.tv)(),g=(0,n.T)(),V=((0,i.Q)(),(0,u.iH)(null)),$=(0,u.iH)(null),W=(0,u.iH)(null),h=(0,u.iH)(null),F=(0,u.iH)(null),U="https://web.antex.pro",z=((0,t.Fl)((()=>l.addresses[l.currentAddressIdx].address)),(0,t.Fl)((()=>g.user))),Q=(0,t.Fl)((()=>l.assets)),Z=(0,t.Fl)((()=>l.balances));async function x(){const e=await p.h.post("/api/p2p/add_offer",{is_sell:!0,asset_key:V.value.key,wallet:z.value.wallet,amount:$.value,min_amount:W.value,payment_types:a.value,course:h.value,rules:F.value});e.data.success?(0,d.d$)("positive",e.data.message):(0,d.d$)("negative",e.data.message),await g.get_own_offers(),q.push({name:"p2p_index"})}return(e,l)=>{const s=(0,t.up)("q-avatar"),n=(0,t.up)("q-item-section"),p=(0,t.up)("q-item-label"),d=(0,t.up)("q-item"),m=(0,t.up)("q-select"),i=(0,t.up)("q-btn"),q=(0,t.up)("q-input"),g=(0,t.up)("q-card-section"),C=(0,t.up)("q-card"),H=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(H,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[r,(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{color:"dark",outlined:"",options:Q.value,modelValue:V.value,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value=e),"option-label":"name",class:"q-mb-md",behavior:"menu",label:e.$t("p2p_select_asset_for_sell")},{option:(0,t.w5)((l=>[(0,t.Wm)(d,(0,t.dG)(l.itemProps,{disable:0===parseFloat(Z.value[l.opt.key][0][1])}),{default:(0,t.w5)((()=>[(0,t.Wm)(n,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{rounded:""},{default:(0,t.w5)((()=>[(0,t._)("img",{src:`${(0,u.SU)(U)}${l.opt.iconURL}`},null,8,v)])),_:2},1024)])),_:2},1024),(0,t.Wm)(n,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"text-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(l.opt.name),1)])),_:2},1024),(0,t.Wm)(p,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("your_balance"))+": "+(0,o.zw)(Z.value[l.opt.key][0][1]),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["disable"])])),_:1},8,["options","modelValue","label"]),V.value?((0,t.wg)(),(0,t.iD)("div",_,[z.value.payment_types.length>0?((0,t.wg)(),(0,t.j4)(m,{key:0,color:"dark",outlined:"",options:z.value.payment_types,modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),"use-chips":"",class:"q-mb-md",behavior:"menu",multiple:"",label:e.$t("p2p_select_payment_system")},null,8,["options","modelValue","label"])):((0,t.wg)(),(0,t.iD)("p",b,"У вас нет добавленых платежных реквизитов, добавьте их в настройках, в разделе P2P"))])):(0,t.kq)("",!0),a.value&&a.value.length>0?((0,t.wg)(),(0,t.iD)("div",w,[(0,t._)("p",null,(0,o.zw)(e.$t("your_balance"))+" "+(0,o.zw)(Z.value[V.value.key][0][1])+" "+(0,o.zw)(V.value.name),1),(0,t.Wm)(q,{color:"dark",outlined:"",modelValue:$.value,"onUpdate:modelValue":l[3]||(l[3]=e=>$.value=e),class:"q-mb-md",type:"number",label:e.$t("p2p_select_volume")},{append:(0,t.w5)((()=>[(0,t.Wm)(i,{onClick:l[2]||(l[2]=e=>$.value=Z.value[V.value.key][0][1]),size:"10px",unelevated:"",color:"dark",outline:"","no-caps":"",label:e.$t("sell_all")},null,8,["label"])])),_:1},8,["modelValue","label"]),(0,t.Wm)(q,{color:"dark",outlined:"",modelValue:W.value,"onUpdate:modelValue":l[4]||(l[4]=e=>W.value=e),class:"q-mb-md",type:"number",label:e.$t("p2p_select_volume_min")},null,8,["modelValue","label"]),(0,t._)("p",k,(0,o.zw)(e.$t("buy_amomunt_cource"))+": "+(0,o.zw)(V.value.course)+" RUB",1),parseFloat(V.value.p2p_min_sell_price)>0?((0,t.wg)(),(0,t.iD)("p",y,(0,o.zw)(e.$t("sell_min_cource"))+": "+(0,o.zw)(V.value.p2p_min_sell_price),1)):(0,t.kq)("",!0),(0,t.Wm)(q,{color:"dark",outlined:"",modelValue:h.value,"onUpdate:modelValue":l[5]||(l[5]=e=>h.value=e),class:"q-mb-md",type:"number",label:e.$t("p2p_select_course")},null,8,["modelValue","label"]),(0,t.Wm)(q,{color:"dark",outlined:"",modelValue:F.value,"onUpdate:modelValue":l[6]||(l[6]=e=>F.value=e),class:"q-mb-md",type:"textarea",label:e.$t("p2p_select_rules")},null,8,["modelValue","label"])])):(0,t.kq)("",!0),$.value&&W.value&&h.value?((0,t.wg)(),(0,t.iD)("div",f,[(0,t.Wm)(i,{dense:"",class:"full-width q-py-md",color:"positive","no-caps":"",unelevated:"",disable:parseFloat($.value)>parseFloat(Z.value[V.value.key][0][1])||parseFloat(W.value)>parseFloat($.value)||parseFloat(h.value)<parseFloat(V.value.p2p_min_sell_price),onClick:x,label:`${e.$t("p2p_create_offer")} ${$.value*h.value} RUB`},null,8,["disable","label"])])):(0,t.kq)("",!0)])),_:1})])),_:1})])])),_:1})}}};var g=a(69885),V=a(44458),$=a(63190),W=a(18401),h=a(490),F=a(76749),U=a(61357),z=a(33115),Q=a(13119),Z=a(68879),x=a(69984),C=a.n(x);const H=q,D=H;C()(q,"components",{QPage:g.Z,QCard:V.Z,QCardSection:$.Z,QSelect:W.Z,QItem:h.Z,QItemSection:F.Z,QAvatar:U.Z,QItemLabel:z.Z,QInput:Q.Z,QBtn:Z.Z})}}]);