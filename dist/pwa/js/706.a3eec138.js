"use strict";(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[706],{97706:(l,a,e)=>{e.r(a),e.d(a,{default:()=>C});var t=e(59835),u=e(86970),n=e(60499),s=e(46190),i=e(31655),d=e(23459),o=(e(87270),e(91569)),w=e(17779);const c={class:"container"},r=(0,t._)("p",{class:"title"},"Стейкинг",-1),m={key:0},p={class:"subtitle text-dark"},_={key:0},g=(0,t._)("br",null,null,-1),k=(0,t._)("br",null,null,-1),v={key:1},b=(0,t._)("p",{class:"subtitle text-dark"},"Баланс стейкинга",-1),f={key:0},W={key:1},q={__name:"Index",setup(l){const a=(0,s.c)(),e=(0,i.T)(),q=(0,d.Q)(),T=(0,n.iH)(null),U=(0,n.iH)(!1),h=(0,t.Fl)((()=>a.balances)),y=(0,t.Fl)((()=>a.addresses[0].address)),D=async()=>{U.value=!U.value;const l=await q.getFee(1,T.value,"7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP","Перевод","Перевод в стейкинг");if(w.log(l),l.success){const a=await q.signTransaction(l.raw);if(w.log(a),a.success){const l=await o.h.post("/api/p2p/new_stacking",{asset_key:1,wallet:y.value,amount:T.value,tx:a.result.signature});w.log(l),await e.get_user()}}U.value=!U.value},Q=async l=>{U.value=!U.value;const a=await o.h.post("/api/p2p/withdrawal_stacking",{id:l});w.log(a.data),U.value=!U.value};return(l,a)=>{const s=(0,t.up)("q-input"),i=(0,t.up)("tx-btn"),d=(0,t.up)("q-card-section"),o=(0,t.up)("q-card"),w=(0,t.up)("q-item-label"),q=(0,t.up)("q-item-section"),y=(0,t.up)("btn"),L=(0,t.up)("q-item"),Z=(0,t.up)("q-list"),x=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(x,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[r,(0,t.Wm)(o,{class:"q-mb-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[h.value[1]?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("p",p,"Ваш баланс: "+(0,u.zw)(h.value[1][0][1])+" ATL",1),(0,t.Wm)(s,{outlined:"","label-color":"dark",modelValue:T.value,"onUpdate:modelValue":a[0]||(a[0]=l=>T.value=l),label:"Объем переводимый в стейкинг",class:"q-mb-md",type:"number"},null,8,["modelValue"]),T.value&&parseFloat(T.value)>0?((0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("p",null,[(0,t.Uk)("Комиссия транзакции:"),g,(0,t.Uk)((0,u.zw)(.01*parseFloat(T.value))+" ATL",1),k,(0,t.Uk)("~ 0,000426 ANT")])])):(0,t.kq)("",!0),(0,t.Wm)(i,{label:"Отправить в стейкинг",loading:U.value,disabled:!T.value||parseFloat(T.value)<10,onClick:D},null,8,["loading","disabled"])])):((0,t.wg)(),(0,t.iD)("div",v," У вас на балансе нет актива ATL. Воспользуйтесь P2P или биржей для его приобретения "))])),_:1})])),_:1}),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[b,(0,n.SU)(e).user.staking.length>0?((0,t.wg)(),(0,t.iD)("div",f,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(e).user.staking,(l=>((0,t.wg)(),(0,t.j4)(L,{key:l.id},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Дата пополнения")])),_:1}),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(new Date(l.created_at).toLocaleDateString()),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Сумма пополнения")])),_:1}),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(l.amount)+" ATL - 5% = "+(0,u.zw)(l.to_stacking_amount)+" ATL",1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Доступно к выводу")])),_:1}),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(l.to_withdrawal)+" ATL",1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(q,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"Вывести",loading:U.value,onClick:a=>Q(l.tx)},null,8,["loading","onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])):((0,t.wg)(),(0,t.iD)("div",W," Вы еще не переводили в стейкинг "))])),_:1})])),_:1})])])),_:1})}}};var T=e(69885),U=e(44458),h=e(63190),y=e(13119),D=e(13246),Q=e(490),L=e(76749),Z=e(33115),x=e(69984),z=e.n(x);const A=q,C=A;z()(q,"components",{QPage:T.Z,QCard:U.Z,QCardSection:h.Z,QInput:y.Z,QList:D.Z,QItem:Q.Z,QItemSection:L.Z,QItemLabel:Z.Z})}}]);