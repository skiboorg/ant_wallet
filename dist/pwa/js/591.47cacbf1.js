"use strict";(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[591],{45591:(e,l,a)=>{a.r(l),a.d(l,{default:()=>yl});a(72879);var t=a(59835),s=a(86970),u=a(60499),n=a(82134),o=a(91569),i=a(28339),r=a(23459),p=a(98030),_=a(31655),d=a(87270),v=a(76647),w=a(29610);const c={class:"container"},f={class:"title"},m={class:"text-bold"},g={class:"text-bold"},b={key:0,class:"text-bold text-center text-primary"},y={key:1},k={key:2},x={key:0},z={key:0,class:"q-mb-md"},h=["innerHTML"],$={key:1},U={key:0},q={key:1},D={class:"text-bold"},W={class:"text-bold"},Z={class:"text-bold"},C=(0,t._)("br",null,null,-1),j={class:"text-bold text-negative text-uppercase"},H=(0,t._)("br",null,null,-1),Q={class:"text-bold"},S=(0,t._)("br",null,null,-1),V=(0,t._)("br",null,null,-1),T={class:"text-bold"},F=(0,t._)("br",null,null,-1),I={class:"text-bold"},A=(0,t._)("br",null,null,-1),B={key:2},P=(0,t._)("br",null,null,-1),K=(0,t._)("br",null,null,-1),R={key:3},J=(0,t._)("br",null,null,-1),L=(0,t._)("br",null,null,-1),M={key:0},N={key:0},O={key:1},E={key:0},G={class:"text-bold"},X={class:"text-bold"},Y={key:1},ee={class:"text-bold text-negative text-center text-justify"},le={key:2},ae={key:0},te={class:"text-bold"},se=(0,t._)("br",null,null,-1),ue=(0,t._)("br",null,null,-1),ne={class:"text-caption text-bold text-negative text-justify"},oe={key:3},ie={key:0},re=["href"],pe={key:4},_e={key:1},de={class:"text-negative text-center items-center"},ve={key:0},we={key:1},ce={class:"text-bold"},fe={class:"text-bold"},me={class:"text-bold"},ge=(0,t._)("br",null,null,-1),be={class:"text-bold text-negative text-uppercase"},ye=(0,t._)("br",null,null,-1),ke={class:"text-bold"},xe=(0,t._)("br",null,null,-1),ze=(0,t._)("br",null,null,-1),he={class:"text-bold"},$e=(0,t._)("br",null,null,-1),Ue={class:"text-bold"},qe=(0,t._)("br",null,null,-1),De={key:2},We=(0,t._)("br",null,null,-1),Ze=(0,t._)("br",null,null,-1),Ce={key:3},je=(0,t._)("br",null,null,-1),He=(0,t._)("br",null,null,-1),Qe={key:2},Se=(0,t._)("p",{class:"text-bold text-center text-positive"},"Админ часть",-1),Ve=(0,t._)("br",null,null,-1),Te=(0,t._)("br",null,null,-1),Fe=(0,t._)("br",null,null,-1),Ie=(0,t._)("br",null,null,-1),Ae=(0,t._)("br",null,null,-1),Be=(0,t._)("br",null,null,-1),Pe=(0,t._)("br",null,null,-1),Ke=(0,t._)("br",null,null,-1),Re=(0,t._)("br",null,null,-1),Je=(0,t._)("br",null,null,-1),Le={key:0},Me=["href"],Ne=(0,t._)("br",null,null,-1),Oe=(0,t._)("br",null,null,-1),Ee={key:3},Ge={class:"full-height"},Xe=(0,t._)("br",null,null,-1),Ye={key:0},el=["href"],ll={class:"flex items-center"},al="7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",tl={__name:"Trade",setup(e){const l=new Audio("notify.mp3"),tl=(0,i.yj)(),sl=(0,i.tv)(),{EraChain:ul}=a(99407),nl=(0,r.Q)(),ol=(0,_.T)(),il=(0,u.iH)(null),rl=(0,u.iH)(null),pl=(0,u.iH)(null),_l=(0,u.iH)(null),dl=(0,u.iH)(null),vl=(0,u.iH)(null),wl=(0,u.iH)(null),cl=(0,u.iH)(null),fl=(0,u.iH)(!1);let ml=(0,u.iH)(!1);const gl=(0,u.iH)([]),bl=((0,u.iH)(0),(0,u.iH)(3e5)),yl=.001,kl=(0,v.QT)(),xl=(kl.t("p2p_error"),(0,t.Fl)((()=>ol.user))),zl=(0,t.Fl)((()=>ol.trade)),hl=(0,t.Fl)((()=>zl.value.offer.is_sell?zl.value.offer.user.wallet===xl.value.wallet:zl.value.opponent.wallet===xl.value.wallet));function $l(){cl.value=setInterval((async function(){await ol.get_trade()}),5e3)}async function Ul(e){let l=xl.value.wallet;"money_receive"===e&&(l=xl.value.is_p2p_admin?zl.value.freeze_user===zl.value.opponent.wallet?zl.value.offer.user.wallet:zl.value.opponent.wallet:zl.value.offer.user.wallet!==xl.value.wallet?zl.value.offer.user.wallet:zl.value.opponent.wallet),fl.value=!fl.value;let a=new FormData;a.set("action",e),dl.value&&a.set("file",dl.value),a.set("wallet",l),a.set("uid",zl.value.UID);const t=await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/trade_action",data:a});t.data.success?(0,d.d$)("positive",t.data.message):(0,d.d$)("negative",t.data.message),fl.value=!fl.value,"delete"===e&&sl.push({name:"p2p_index"}),"money_receive"===e&&sl.push({name:"p2p_index"})}async function ql(){il.value=new WebSocket(`wss://antex.pro/ws/trade_chat/${zl.value.UID}`);const e=await o.h.get(`/api/p2p/get_trade_chat?trade_uid=${zl.value.UID}`);gl.value=e.data.messages,il.value.onmessage=async e=>{let a=JSON.parse(e.data)["message"],t={id:a.id,message:a.message,file:a.file?a.file:null,createdAt:a.createdAt,user:{wallet:a.user.wallet,is_p2p_admin:a.user.is_p2p_admin,fio:a.user.fio}};gl.value.push(t),Wl(),l.play()}}async function Dl(e){13===e.keyCode&&_l.value&&await Cl()}function Wl(){ml.value&&(wl.value.setScrollPosition("vertical",bl.value,300),bl.value=20*Math.floor(300))}function Zl(){Wl()}async function Cl(){fl.value=!fl.value;let e=new FormData;e.set("message",JSON.stringify(_l.value)),e.set("file",vl.value),e.set("wallet",xl.value.wallet),e.set("trade_uid",zl.value.UID);await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/add_message_in_trade_chat",data:e});_l.value=null,vl.value=null,fl.value=!fl.value}async function jl(){fl.value=!fl.value;const e=!0,l=await nl.getKeyPair(),a=new ul.Type.KeyPair(l),t={assetKey:zl.value.offer.asset.key,amount:zl.value.asset_amount},s=await p.era.tranRawSendAsset(a,t,al,kl.t("p2p_depon"),`${kl.t("p2p_trade")} ${zl.value.id} ${kl.t("p2p_by_offer")} ${zl.value.offer.id}`,!1,e);s.error?(0,d.d$)("negative",s.error.message):(rl.value=s.fee,pl.value=s.raw,await Hl()),fl.value=!fl.value}async function Hl(){const e=await p.era.broadcast64(pl.value);if(e.error)(0,d.d$)("negative",e.message);else{(0,d.d$)("positive",kl.t("p2p_depon1"));await o.h.post("/api/p2p/trade_action",{action:"freeze_money",uid:zl.value.UID,tx:e.signature,wallet:xl.value.wallet})}}return(0,t.wF)((async()=>{ol.current_trade_uid=tl.params.uid,await ol.get_user(),await ol.get_trade(),await ql(),zl.value.status.is_need_help&&(ml.value=!0),$l()})),(0,t.Jd)((async()=>{il.value?il.value.close():clearInterval(cl.value)})),(e,l)=>{const a=(0,t.up)("q-btn"),o=(0,t.up)("q-card-section"),i=(0,t.up)("q-card"),r=(0,t.up)("q-badge"),p=(0,t.up)("q-separator"),_=(0,t.up)("q-icon"),d=(0,t.up)("q-file"),v=(0,t.up)("q-chat-message"),al=(0,t.up)("q-scroll-area"),tl=(0,t.up)("q-input"),sl=(0,t.up)("q-dialog"),ul=(0,t.up)("q-page"),nl=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ul,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("p",f,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade"))+" ",1),(0,t._)("span",m,"#"+(0,s.zw)(zl.value.id),1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_by_offer"))+" ",1),(0,t._)("span",g,"#"+(0,s.zw)(zl.value.offer.id),1)]),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[!zl.value.can_delete&&zl.value.status.is_default?((0,t.wg)(),(0,t.iD)("p",b,(0,s.zw)(e.$t("p2p_trade_can_decline"))+" "+(0,s.zw)(new Date(zl.value.can_delete_time).toLocaleString()),1)):(0,t.kq)("",!0),zl.value.status.is_default&&zl.value.can_delete?((0,t.wg)(),(0,t.iD)("div",y,[(0,t.Wm)(a,{class:"full-width q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:l[0]||(l[0]=e=>Ul("delete")),label:e.$t("p2p_trade_decline")},null,8,["label"])])):(0,t.kq)("",!0),(0,t.Wm)(i,{flat:"",class:(0,s.C_)(["text-bold text-center q-mb-md text-white",`bg-${zl.value.status.color}`])},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,s.zw)(e.$t("p2p_trade_status"))+": "+(0,s.zw)(zl.value.status.label)+" ",1)])),_:1})])),_:1},8,["class"]),zl.value.status.is_declined?((0,t.wg)(),(0,t.iD)("div",Ee,[(0,t.Wm)(w.Z,{tx:zl.value.tx_return,text:`Транзакция возврата ${zl.value.asset_amount} ${zl.value.offer.asset.name}`},null,8,["tx","text"])])):((0,t.wg)(),(0,t.iD)("div",k,[zl.value.status.is_need_help?((0,t.wg)(),(0,t.iD)("div",_e,[(0,t._)("p",de,(0,s.zw)(e.$t("p2p_admin_wait")),1),(0,t._)("p",null,[zl.value.offer.is_sell?((0,t.wg)(),(0,t.iD)("span",ve,(0,s.zw)(zl.value.opponent.wallet===xl.value.wallet?e.$t("p2p_buy_orders"):e.$t("p2p_sell_orders")),1)):((0,t.wg)(),(0,t.iD)("span",we,(0,s.zw)(zl.value.opponent.wallet===xl.value.wallet?e.$t("p2p_sell_orders"):e.$t("p2p_buy_orders")),1)),(0,t._)("span",ce," "+(0,s.zw)(zl.value.asset_amount)+" "+(0,s.zw)(zl.value.offer.asset.name),1),(0,t.Uk)("  "+(0,s.zw)(e.$t("p2p_trade_course"))+" ",1),(0,t._)("span",fe,(0,s.zw)(zl.value.offer.course)+" RUB",1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_total_rub"))+" ",1),(0,t._)("span",me,(0,s.zw)(zl.value.fiat_amount)+" RUB",1),ge,(0,t._)("span",be,(0,s.zw)(e.$t("p2p_trade_comm"))+" "+(0,s.zw)(zl.value.asset_amount_without_commission)+" "+(0,s.zw)(zl.value.offer.asset.name),1),ye,(0,t._)("span",ke,(0,s.zw)(e.$t("p2p_rules"))+":",1),xe,(0,t.Uk)((0,s.zw)(zl.value.offer.rules),1),ze,(0,t._)("span",he,(0,s.zw)(e.$t("p2p_payment_system"))+":",1),(0,t.Uk)(" "+(0,s.zw)(zl.value.payment_type.label),1),$e,(0,t._)("span",Ue,(0,s.zw)(hl.value?e.$t("p2p_trade_buyer"):e.$t("p2p_trade_seller")),1),qe,zl.value.offer.user.wallet!==xl.value.wallet?((0,t.wg)(),(0,t.iD)("span",De,[(0,t.Wm)(n.Z,{address:zl.value.offer.user.wallet},null,8,["address"]),We,zl.value.offer.user.fio?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),Ze,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(zl.value.offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",Ce,[(0,t.Wm)(n.Z,{address:zl.value.opponent.wallet},null,8,["address"]),je,zl.value.opponent.fio?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),He,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(zl.value.opponent.total_trades),1)]))])])):((0,t.wg)(),(0,t.iD)("div",x,[zl.value.status.is_default||zl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",z,[(0,t.Wm)(i,{flat:"",class:"bg-red-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t._)("p",{class:"text-white caption text-justify",innerHTML:e.$t("p2p_trade_call_admin_text")},null,8,h),(0,t.Wm)(a,{label:e.$t("p2p_trade_call_admin_btn"),loading:fl.value,onClick:l[1]||(l[1]=e=>Ul("need_help")),class:"full-width","no-caps":"",unelevated:"",color:"yellow-4","text-color":"dark"},null,8,["label","loading"])])),_:1})])),_:1})])),zl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",$,[(0,t._)("p",null,[(0,t.Uk)("  "),zl.value.offer.is_sell?((0,t.wg)(),(0,t.iD)("span",U,(0,s.zw)(zl.value.opponent.wallet===xl.value.wallet?e.$t("p2p_buy_orders"):e.$t("p2p_sell_orders")),1)):((0,t.wg)(),(0,t.iD)("span",q,(0,s.zw)(zl.value.opponent.wallet===xl.value.wallet?e.$t("p2p_sell_orders"):e.$t("p2p_buy_orders")),1)),(0,t._)("span",D," "+(0,s.zw)(zl.value.asset_amount)+" "+(0,s.zw)(zl.value.offer.asset.name),1),(0,t.Uk)("  "+(0,s.zw)(e.$t("p2p_trade_course"))+" ",1),(0,t._)("span",W,(0,s.zw)(zl.value.offer.course)+" RUB",1),(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_total_rub"))+" ",1),(0,t._)("span",Z,(0,s.zw)(zl.value.fiat_amount)+" RUB",1),C,(0,t._)("span",j,(0,s.zw)(e.$t("p2p_trade_comm"))+" "+(0,s.zw)(zl.value.asset_amount_without_commission)+" "+(0,s.zw)(zl.value.offer.asset.name),1),H,(0,t._)("span",Q,(0,s.zw)(e.$t("p2p_rules"))+":",1),S,(0,t.Uk)((0,s.zw)(zl.value.offer.rules),1),V,(0,t._)("span",T,(0,s.zw)(e.$t("p2p_payment_system"))+":",1),(0,t.Uk)(" "+(0,s.zw)(zl.value.payment_type.label),1),F,(0,t._)("span",I,(0,s.zw)(hl.value?e.$t("p2p_trade_buyer"):e.$t("p2p_trade_seller")),1),A,zl.value.offer.user.wallet!==xl.value.wallet?((0,t.wg)(),(0,t.iD)("span",B,[(0,t.Wm)(n.Z,{address:zl.value.offer.user.wallet},null,8,["address"]),(0,t.Uk)(),P,zl.value.offer.user.is_vip?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),K,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(zl.value.offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",R,[(0,t.Wm)(n.Z,{address:zl.value.opponent.wallet},null,8,["address"]),(0,t.Uk)(),J,zl.value.opponent.is_vip?((0,t.wg)(),(0,t.j4)(r,{key:0,color:"positive"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_verify")),1)])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:1,color:"negative"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$t("p2p_not_verify")),1)])),_:1})),L,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_finish_trades"))+" "+(0,s.zw)(zl.value.opponent.total_trades),1)]))]),(0,t.Wm)(p,{spaced:"lg"}),zl.value.status.is_default?((0,t.wg)(),(0,t.iD)("div",M,[zl.value.offer.user.wallet===xl.value.wallet?((0,t.wg)(),(0,t.iD)("div",N,[(0,t.Wm)(a,{loading:fl.value,label:e.$t("p2p_trade_agree"),color:"positive",class:"full-width q-py-md",onClick:l[2]||(l[2]=e=>Ul("trade_accept")),unelevated:"","no-caps":""},null,8,["loading","label"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),zl.value.status.is_active?((0,t.wg)(),(0,t.iD)("div",O,[hl.value?((0,t.wg)(),(0,t.iD)("div",E,[(0,t._)("p",null,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade_agree_text1"))+" ",1),(0,t._)("span",G,(0,s.zw)(zl.value.asset_amount)+" "+(0,s.zw)(zl.value.offer.asset.name),1),(0,t.Uk)(". "+(0,s.zw)(e.$t("p2p_trade_agree_text2")),1)]),(0,t._)("p",X,"Комиссия сети "+(0,s.zw)(100*(0,u.SU)(yl))+"% ("+(0,s.zw)(zl.value.asset_amount*(0,u.SU)(yl))+" "+(0,s.zw)(zl.value.offer.asset.name)+") + газ 0.00035644 ANT",1),(0,t.Wm)(a,{loading:fl.value,label:`${e.$t("p2p_trade_depo")} ${parseFloat(zl.value.asset_amount)+parseFloat(zl.value.asset_amount*(0,u.SU)(yl))} ${zl.value.offer.asset.name}`,color:"positive",class:"full-width q-py-md",onClick:jl,unelevated:"","no-caps":""},null,8,["loading","label"])])):((0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("p",ee,(0,s.zw)(e.$t("p2p_trade_depo_text")),1),(0,t._)("p",null,(0,s.zw)(e.$t("p2p_trade_depo_wait"))+" "+(0,s.zw)(zl.value.asset_amount)+" "+(0,s.zw)(zl.value.offer.asset.name),1)]))])):(0,t.kq)("",!0),zl.value.status.is_money_freeze?((0,t.wg)(),(0,t.iD)("div",le,[(0,t.Wm)(w.Z,{tx:zl.value.tx,text:"Транзакция депонирования"},null,8,["tx"]),hl.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ae,[(0,t._)("p",te,[(0,t.Uk)((0,s.zw)(e.$t("p2p_trade_sellser_text")),1),se,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_payment_system"))+": "+(0,s.zw)(zl.value.payment_type.label),1),ue,(0,t.Uk)(" "+(0,s.zw)(e.$t("p2p_trade_sellser_req"))+": "+(0,s.zw)(zl.value.payment_type.payment_info),1)]),(0,t._)("p",ne,(0,s.zw)(e.$t("p2p_trade_sellser_confirm")),1),(0,t.Wm)(d,{outlined:"",label:e.$t("p2p_trade_sellser_confirm_btn"),modelValue:dl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>dl.value=e),"bg-color":dl.value?"positive":"red-1",color:"white",class:"q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(_,{name:"attach_file"})])),_:1},8,["label","modelValue","bg-color"]),(0,t.Wm)(a,{loading:fl.value,disable:!dl.value,label:dl.value?e.$t("p2p_trade_sellser_confirm_btn_done"):e.$t("p2p_trade_sellser_confirm_btn_not"),color:dl.value?"positive":"negative",class:"full-width q-py-md",onClick:l[4]||(l[4]=e=>Ul("money_send")),unelevated:"","no-caps":""},null,8,["loading","disable","label","color"])]))])):(0,t.kq)("",!0),zl.value.status.is_money_sent?((0,t.wg)(),(0,t.iD)("div",oe,[hl.value?((0,t.wg)(),(0,t.iD)("div",ie,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:zl.value.send_img,target:"_blank"},(0,s.zw)(e.$t("p2p_trade_pay_confirm")),9,re)]),(0,t.Wm)(a,{loading:fl.value,label:e.$t("p2p_trade_pay_confirm_btn"),color:"positive",class:"full-width q-py-md",onClick:l[5]||(l[5]=e=>Ul("money_receive")),unelevated:"","no-caps":""},null,8,["loading","label"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),zl.value.status.is_money_recieve?((0,t.wg)(),(0,t.iD)("div",pe,[(0,t.Wm)(w.Z,{tx:zl.value.tx_send,text:"Транзакция перевода"},null,8,["tx"])])):(0,t.kq)("",!0)]))])),xl.value.is_p2p_admin&&!zl.value.status.is_finished?((0,t.wg)(),(0,t.iD)("div",Qe,[(0,t.Wm)(p,{spaced:"lg"}),Se,(0,t._)("p",null,[(0,t.Uk)(" Cделка № "+(0,s.zw)(zl.value.id),1),Ve,(0,t.Uk)(" Оффер № "+(0,s.zw)(zl.value.offer.id),1),Te,(0,t.Uk)(" Сумма сделки в рублях: "+(0,s.zw)(zl.value.fiat_amount),1),Fe,(0,t.Uk)(" Сумма сделки в активе: "+(0,s.zw)(zl.value.asset_amount)+" "+(0,s.zw)(zl.value.offer.asset.name),1),Ie,Ae,(0,t.Uk)(" Тип оффера: "+(0,s.zw)(zl.value.offer.is_sell?"продажа":"покупка"),1),Be,Pe,(0,t.Uk)(" Создатель оффера: "),(0,t.Wm)(n.Z,{address:zl.value.offer.user.wallet},null,8,["address"]),Ke,(0,t.Uk)(),Re,(0,t.Uk)(" Создатель сделки: "),(0,t.Wm)(n.Z,{address:zl.value.opponent.wallet},null,8,["address"]),Je]),(0,t.Wm)(w.Z,{tx:zl.value.tx,text:"Транзакция депонирования"},null,8,["tx"]),(0,t.Wm)(w.Z,{tx:zl.value.tx_send,text:"Транзакция перевода"},null,8,["tx"]),zl.value.send_img?((0,t.wg)(),(0,t.iD)("p",Le,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:zl.value.send_img,target:"_blank"},"Подтверждение оплаты",8,Me)])):(0,t.kq)("",!0),Ne,Oe,zl.value.tx?((0,t.wg)(),(0,t.j4)(a,{key:1,loading:fl.value,label:"Отмена сделки с возвратом задепонированнго баланса продавцу",color:"negative",class:"full-width q-py-md q-mb-md",onClick:l[6]||(l[6]=e=>Ul("admin_stop")),unelevated:"","no-caps":""},null,8,["loading"])):(0,t.kq)("",!0),zl.value.tx?((0,t.wg)(),(0,t.j4)(a,{key:2,loading:fl.value,label:"Завершить сделку с перечисление средств покупателю",color:"positive",class:"full-width q-py-md q-mb-md",onClick:l[7]||(l[7]=e=>Ul("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])):(0,t.kq)("",!0),zl.value.tx?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:3,loading:fl.value,class:"full-width q-py-md","no-caps":"",unelevated:"",color:"negative",onClick:l[8]||(l[8]=e=>Ul("admin_decline")),label:"Отменить сделку"},null,8,["loading"]))])):(0,t.kq)("",!0)])),(0,t.Wm)(sl,{modelValue:(0,u.SU)(ml),"onUpdate:modelValue":l[12]||(l[12]=e=>(0,u.dq)(ml)?ml.value=e:ml=e),seamless:"",position:"bottom",onShow:Zl},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"full-width"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{class:"q-pt-xl"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(a,{class:"absolute-top-right z-max",flat:"",round:"",icon:"close"},null,512),[[nl]]),(0,t._)("div",Ge,[(0,t.Wm)(al,{ref_key:"messages_wrapper",ref:wl,style:{height:"300px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(gl.value,(l=>((0,t.wg)(),(0,t.j4)(v,{key:l.id,stamp:new Date(l.createdAt).toLocaleString(),name:l.user.fio,text:[l.message],sent:l.user.wallet===xl.value.wallet,"bg-color":l.user.is_p2p_admin?"red-7":l.user.wallet===xl.value.wallet?"green-3":"grey-3","text-color":l.user.is_p2p_admin?"white":""},{name:(0,t.w5)((()=>[(0,t._)("span",{class:(0,s.C_)(l.user.is_p2p_admin?"text-red-7":"")},(0,s.zw)(l.user.fio?l.user.fio:l.user.wallet),3),Xe,l.file?((0,t.wg)(),(0,t.iD)("span",Ye,[(0,t._)("a",{class:"file_link",target:"_blank",href:l.file},(0,s.zw)(e.$t("p2p_attach")),9,el)])):(0,t.kq)("",!0)])),_:2},1032,["stamp","name","text","sent","bg-color","text-color"])))),128))])),_:1},512),(0,t._)("div",ll,[(0,t.Wm)(_,{size:"24px",class:"cursor-pointer q-mr-lg",color:vl.value?"positive":"grey-6",name:"attach_file"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{style:{position:"absolute",width:"42px",opacity:"0"},modelValue:vl.value,"onUpdate:modelValue":l[9]||(l[9]=e=>vl.value=e)},null,8,["modelValue"])])),_:1},8,["color"]),(0,t.Wm)(tl,{outlined:"","label-color":"dark",class:"col-grow",loading:fl.value,disable:fl.value,onKeydown:Dl,modelValue:_l.value,"onUpdate:modelValue":l[11]||(l[11]=e=>_l.value=e),label:e.$t("p2p_message")},{append:(0,t.w5)((()=>[(0,t.Wm)(a,{round:"",dense:"",disable:!_l.value,loading:fl.value,onClick:l[10]||(l[10]=e=>Cl()),flat:"",icon:"send"},null,8,["disable","loading"])])),_:1},8,["loading","disable","modelValue","label"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),zl.value.status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:4,style:{position:"fixed",bottom:"20px",right:"20px"},flat:"",size:"24px",round:"","text-color":"white",icon:"chat",onClick:l[13]||(l[13]=e=>(0,u.dq)(ml)?ml.value=!0:ml=!0)},{default:(0,t.w5)((()=>[gl.value.length>0?((0,t.wg)(),(0,t.j4)(_,{key:0,class:"absolute-top-right",size:"16px",color:"red",name:"priority_high"})):(0,t.kq)("",!0)])),_:1}))])),_:1})])),_:1})])])),_:1})}}};var sl=a(69885),ul=a(44458),nl=a(63190),ol=a(24455),il=a(20990),rl=a(50926),pl=a(29420),_l=a(22857),dl=a(32074),vl=a(66663),wl=a(396),cl=a(13119),fl=a(62146),ml=a(69984),gl=a.n(ml);const bl=tl,yl=bl;gl()(tl,"components",{QPage:sl.Z,QCard:ul.Z,QCardSection:nl.Z,QBtn:ol.Z,QBadge:il.Z,QSeparator:rl.Z,QFile:pl.Z,QIcon:_l.Z,QDialog:dl.Z,QScrollArea:vl.Z,QChatMessage:wl.Z,QInput:cl.Z}),gl()(tl,"directives",{ClosePopup:fl.Z})}}]);