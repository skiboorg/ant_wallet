"use strict";(globalThis["webpackChunkant_wallet"]=globalThis["webpackChunkant_wallet"]||[]).push([[263],{77263:(e,a,l)=>{l.r(a),l.d(a,{default:()=>W});var t=l(59835),s=l(86970),n=l(60499),u=l(76647),o=l(23459),d=l(46190),r=l(91569),i=l(28339),c=l(87270),p=l(65054);const v={class:"container"},m={class:"title"},w={class:"q-mb-md"},_={class:"flex items-center justify-between bg-grey-4 q-pa-sm q-mb-md"},k={class:"text-bold no-margin",style:{"word-break":"break-all"}},b=(0,t._)("p",{class:""},"Далее введите хеш ПОДТВЕРЖДЕННОЙ транзакции в поле ниже",-1),h={__name:"Buy",setup(e){const a=(0,u.QT)(),l=(0,o.Q)(),h=(0,d.c)(),g=(0,i.yj)();let y=(0,n.iH)(!1),f=(0,n.iH)(0);const q=(0,n.iH)({network:null,tx_hash:null});async function x(){y.value=!y.value;const e=await r.h.post("/api/settings/new_payment",{asset_key:f.value,wallet:C.value,network:q.value.network,tx_hash:q.value.tx_hash});e.data.success?(0,c.d$)("positive",JSON.stringify(e.data.message)):(0,c.d$)("negative",JSON.stringify(e.data.message)),q.value.tx_hash=null,y.value=!y.value}function Q(e){(0,p.Z)(e).then((()=>{(0,c.d$)("positive",a.t("wallet_address_copy"))})).catch((()=>{}))}const Z=(0,t.Fl)((()=>l.assets.find((e=>e.key===f.value)))),C=(0,t.Fl)((()=>h.addresses[h.currentAddressIdx].address));return(0,t.wF)((async()=>{f.value=parseInt(g.params.asset_key),q.value.network=Z.value.networks[0]})),(e,a)=>{const l=(0,t.up)("q-select"),u=(0,t.up)("q-btn"),o=(0,t.up)("q-input"),d=(0,t.up)("btn"),r=(0,t.up)("q-card-section"),i=(0,t.up)("q-card"),c=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(c,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",v,[(0,t._)("p",m,"Пополнение "+(0,s.zw)(Z.value.name),1),(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",w,[(0,t.Wm)(l,{options:Z.value.networks,outlined:"","label-color":"dark","option-label":"name",label:"Выберите сеть",modelValue:q.value.network,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value.network=e)},null,8,["options","modelValue"])]),(0,t._)("p",null,"Для пополнения актива "+(0,s.zw)(Z.value.name)+" совершите перевод на адрес",1),(0,t._)("div",_,[(0,t._)("p",k,(0,s.zw)(q.value.network?.address),1),(0,t.Wm)(u,{flat:"",onClick:a[1]||(a[1]=e=>Q(q.value.network?.address)),round:"",icon:"content_copy"})]),b,(0,t.Wm)(o,{class:"q-mb-md",outlined:"","label-color":"dark",label:"Введите хеш транзакции",modelValue:q.value.tx_hash,"onUpdate:modelValue":a[2]||(a[2]=e=>q.value.tx_hash=e)},null,8,["modelValue"]),(0,t.Wm)(d,{label:"Проверить транзакцию",onClick:x,disabled:!q.value.tx_hash,loading:(0,n.SU)(y)},null,8,["disabled","loading"])])),_:1})])),_:1})])])),_:1})}}};var g=l(69885),y=l(44458),f=l(63190),q=l(10215),x=l(24455),Q=l(13119),Z=l(69984),C=l.n(Z);const V=h,W=V;C()(h,"components",{QPage:g.Z,QCard:y.Z,QCardSection:f.Z,QSelect:q.Z,QBtn:x.Z,QInput:Q.Z})}}]);